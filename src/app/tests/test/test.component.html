<div class="container-header">
    
    <div class="container">

            <table mat-table
            [dataSource]="dataSource"
            matSort
            class="mat-elevation-z8">
    
            <ng-container matColumnDef="id">
                <th mat-header-cell
                    *matHeaderCellDef
                    mat-sort-header> ID </th>
                <td mat-cell
                    *matCellDef="let test"> {{test.id}}  </td>
            </ng-container>
    
            <ng-container matColumnDef="name">
                <th mat-header-cell
                    *matHeaderCellDef
                    mat-sort-header> Name </th>
                <td mat-cell
                    *matCellDef="let test"> {{test.name}} </td>
            </ng-container>
    
            <ng-container matColumnDef="subject">
                <th mat-header-cell
                    *matHeaderCellDef
                    mat-sort-header> Subject </th>
                <td mat-cell
                    *matCellDef="let test"> {{test?.TestQuestions[0].Question.Subject.name}}</td>
            </ng-container>

            <ng-container matColumnDef="creator">
                <th mat-header-cell
                    *matHeaderCellDef
                    mat-sort-header> Creator </th>
                <td mat-cell
                    *matCellDef="let test"><p *ngIf="test.userId === test.User.id"> {{test.User.firstName}} {{test.User.lastName}}</p></td>
            </ng-container>
    
    
            <ng-container matColumnDef="edit">
                <th mat-header-cell
                    *matHeaderCellDef> </th>
                <td mat-cell
                    *matCellDef="let test">  <button
                    (click)="openTestDialog(test)"
                    mat-flat-button
                    color="primary">Send</button>
                </td>
            </ng-container>
    
            <tr mat-header-row
                *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row
                *matRowDef="let row; columns: columnsToDisplay;"></tr>
        </table>
    </div>
    <button mat-flat-button
        color="primary"
        routerLink="/tests/edit">New</button>
    <div class="grid-container">
        <mat-form-field>
            <input matInput
                (keyup)="applyFilter($event.target.value)"
                placeholder="Filter">
        </mat-form-field>
    </div>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons></mat-paginator>

</div>